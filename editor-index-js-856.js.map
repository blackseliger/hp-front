{"version":3,"sources":["webpack://hp-front/./src/components/table/bestsellers-header.js","webpack://hp-front/./src/components/table/index.js","webpack://hp-front/./src/pages/editor/index.js","webpack://hp-front/./node_modules/moment/locale/ sync ^\\.\\/.*$"],"names":["id","title","template","data","moment","format","BACKEND_URL_H","Table","url","URL","searchParams","set","fetch","method","e","console","log","message","responce","headers","body","JSON","stringify","json","event","target","closest","dataset","this","deleteFetch","ok","filter","item","remove","constructor","async","deleteEl","editEl","openEl","editElement","removeElement","lastElementChild","classList","toggle","preventDefault","productForm","tableContent","subElements","allowedFields","Object","keys","defaultForm","getValue","field","querySelector","value","putFetch","row","getValueRow","rowFields","textContent","deleteForm","wrapper","createForm","addEventListener","onSave","hideForm","fetchPost","document","createElement","innerHTML","getTableRows","append","headerConfig","header","render","name","description","getTemplate","element","firstElementChild","getSubElements","loadData","renderRows","initEventListeners","length","addRows","tableHeader","onClick","onForm","removeEventListeners","removeEventListener","onEdit","edit","getFormGroup","setFormData","find","elements","querySelectorAll","Array","isArray","arr","push","map","getTableRow","join","destroy","Page","initComponents","renderComponents","table","components","forEach","component","root","values","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","resolve","module","exports"],"mappings":"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","file":"editor-index-js-856.js","sourcesContent":["\nimport moment from \"moment\";\n\nconst header = [\n  {\n    id: 'name',\n    title: 'Name',\n    template: (data) => { return `<div class=\"table__content-cell table__content-cell_accordion\">\n    <div class=\"table__icon-accordion\">\n    <svg class=\"table__icon-img\" data-element=\"handleOpen\" width=\"18\" height=\"10\" viewBox=\"0 0 18 10\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n<path  clip-rule=\"evenodd\" d=\"M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L9 7.58579L16.2929 0.292893C16.6834 -0.0976311 17.3166 -0.0976311 17.7071 0.292893C18.0976 0.683417 18.0976 1.31658 17.7071 1.70711L9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z\" />\n</svg>\n\n    </div>    \n    <div data-row='name'>${data}</div>\n</div>`;}\n   \n  },\n  {\n    id: 'created',\n    title: 'date',\n    template: data => {\n      const date = moment(data).format(\"DD:MM:YYYY h:mm\");\n    \n      return `<div class=\"table__content-cell\" data-element=\"${data}\">${date}</div>`;\n    }\n  },\n  {\n    id: 'action',\n    title: 'Action',\n    template: () => { return `<div class=\"table__content-cell table__content-cell-icons\">\n    <div class=\"table__icon\">\n        <img src=\"./assets/icons/handleEdit.svg\" class=\"table__icon-img\" data-element=\"handleEdit\" alt=\"edit\">\n    </div>\n    <div class=\"table__icon\">\n        <img src=\"./assets/icons/handleDelete.svg\" class=\"table__icon-img\" data-element=\"handleDelete\" alt=\"delete\">\n    </div>\n</div>`;\n    }\n  },\n];\n\nexport default header;\n","import header from \"./bestsellers-header\";\n\nconst BACKEND_URL_L = 'http://localhost:7070/';\nconst BACKEND_URL_H = 'https://hp34.herokuapp.com/';\nexport default class Table {\n    subElements = {};\n    wrapper = null;\n\n    onClick = async (event) => {\n        const deleteEl = event.target.closest(\"[data-element=handleDelete]\");\n        const editEl = event.target.closest(\"[data-element=handleEdit]\");\n        const openEl = event.target.closest(\"[data-element=handleOpen]\");\n\n        if (editEl) {\n            this.editElement(event);\n        }\n\n        if (deleteEl) {\n            await this.removeElement(event);\n        }\n\n        if (openEl) {\n            const description = openEl.closest('.table__content-row').lastElementChild;\n            description.classList.toggle('table__detailed_hide');\n        }\n\n    }\n\n\n    async deleteFetch(id) {\n        const url = new URL('tickets', BACKEND_URL_H);\n        url.searchParams.set('id', id);\n        try {\n            const responce = await fetch(url, {\n                method: \"DELETE\",\n            });\n            return responce;\n        } catch(e) {\n            console.log(e.message);\n        }\n    }\n\n    async putFetch(id, data) {\n        const url = new URL('tickets', BACKEND_URL_H);\n        url.searchParams.set('id', id);\n\n        try {\n            const responce = await fetch(url, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data),\n            }); \n            return await responce.json();\n        } catch (e) {\n            return await e.message;\n        }\n    }\n\n    async fetchPost(data) {\n        const url = new URL('tickets', BACKEND_URL_H);\n\n        try {\n            const responce = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data),\n            }); \n            return await responce.json();\n        } catch (e) {\n            return e.message;\n        }\n    }\n\n\n    async removeElement(event) {\n        const id = event.target.closest('.table__content-row').dataset.id;\n\n        const responce = await this.deleteFetch(id);\n        if (responce.ok) {\n            this.data = [...this.data].filter((item) => item.id !== id);\n            event.target.closest('.table__content-row').remove();\n        }\n    }\n\n    onEdit = async (event) => {\n        event.preventDefault();\n        const { productForm, tableContent } = this.subElements;\n        const allowedFields = Object.keys(this.defaultForm);\n        const data = {};\n        const getValue = (field) => productForm.querySelector(`[name=${field}]`).value;\n        \n\n         for (const field of allowedFields) {\n            data[field] = getValue(field);\n        }\n\n        const responce = await this.putFetch(this.id, data)\n        \n        const row = tableContent.querySelector(`[data-element='${this.id}']`);\n        const getValueRow = (field) => row.querySelector(`[data-row='${field}']`)\n        const rowFields = ['name', 'description'];\n\n        for (const field of rowFields) {\n            getValueRow(field).textContent = responce[field];\n        }\n\n\n       this.deleteForm();\n    }\n\n\n\n    onForm = (event) => {\n        const addEl = event.target.closest(\"[data-element=handleAdd]\");\n\n        if (addEl) {\n\n            if (this.wrapper !== null) {\n                return;\n            }\n            this.createForm();\n            \n            const { productForm } = this.subElements;\n\n            productForm.addEventListener('submit', this.onSave);\n            productForm.addEventListener('click', this.hideForm);\n\n        }\n    }\n\n    hideForm = (event) => {\n\n        const handleDelete = event.target.closest('[data-element=hideForm]');\n        if (handleDelete) {\n            this.subElements.productForm.remove();\n            this.wrapper = null;\n        }\n      \n    }\n\n\n     onSave = async (event) => {\n        event.preventDefault();\n        const allowedFields = Object.keys(this.defaultForm);\n        const { productForm, tableContent } = this.subElements;\n\n        const getValue = (field) => productForm.querySelector(`[name=${field}]`).value;\n        const data = {}\n        \n        for (const field of allowedFields) {\n            data[field] = getValue(field);\n        }\n\n        \n        const responce = await this.fetchPost(data);\n\n        const wrapper = document.createElement('div');\n        wrapper.innerHTML = this.getTableRows(responce);\n        \n        tableContent.append(wrapper);\n\n\n        this.deleteForm();\n    }\n\n\n    constructor() {\n        this.headerConfig = header;\n        this.render();\n        this.defaultForm = {\n            name: '',\n            description: 0,\n        }\n        this.id = null;\n    }\n\n    async render() {\n        const wrapper = document.createElement('div');\n\n        wrapper.innerHTML = this.getTemplate();\n        this.element = wrapper.firstElementChild;\n\n        this.subElements = this.getSubElements();\n\n        const data = await this.loadData()\n        this.renderRows(data);\n\n        this.initEventListeners();\n    }\n\n\n    async loadData() {\n        const url = new URL('tickets', BACKEND_URL_H);\n\n        const responce = await fetch(url);\n        const data = await responce.json();\n        return data;\n    }\n\n    renderRows(data) {\n        if (data.length) {\n            this.addRows(data);\n        }\n    }\n\n    addRows(data) {\n        this.data = data;\n        this.subElements.tableContent.innerHTML = this.getTableRows(data);\n    }\n\n    initEventListeners() {\n        const { tableContent, tableHeader } = this.subElements;\n\n        tableContent.addEventListener('click', this.onClick);\n        tableHeader.addEventListener('click', this.onForm);\n    }\n\n    removeEventListeners() {\n        document.removeEventListener('click', this.onClick);\n        document.removeEventListener('click', this.onForm);\n        document.removeEventListener('submit', this.onEdit);\n    }\n\n    createForm(edit) {\n        this.wrapper = document.createElement('div');\n        this.wrapper.innerHTML = this.getFormGroup(edit);\n\n        this.element.append(this.wrapper.firstElementChild);\n        this.subElements.productForm = this.element.querySelector('[data-element=productForm');\n    }\n\n\n    setFormData(item) {\n        const { productForm } = this.subElements;\n\n        const allowedFields = Object.keys(this.defaultForm);\n\n\n        for (const field of allowedFields) {\n            const name = productForm.querySelector(`[name=\"${field}\"]`);\n            if (name !== null) {\n                name.value = item[field] || this.defaultForm[field]\n            }\n        }\n\n        productForm.addEventListener('click', this.hideForm);\n        productForm.addEventListener('submit', this.onEdit)\n    }\n\n\n    editElement(event) {\n        if (this.wrapper !== null) {\n            return;\n        }\n\n        this.id = event.target.closest('.table__content-row').dataset.id;\n        const item = this.data.find((item) => item.id === this.id);\n\n        this.createForm('edit');\n        this.setFormData(item);\n    }\n\n    getSubElements() {\n        const elements = this.element.querySelectorAll('[data-element]')\n        for (const item of elements) {\n            this.subElements[item.dataset.element] = item;\n        }\n        return this.subElements;\n    }\n\n\n\n    getTableRows(data) {\n        if (!Array.isArray(data)) {\n            const arr = [];\n            arr.push(data)\n            data = arr;\n        }\n        return data.map((item) => `\n        <div class=\"table__content-body-row table__content-row\" data-element=\"${item.id}\" data-id=\"${item.id}\">\n        <div class=\"table__content-brief\"> ${this.getTableRow(item)}</div>\n        <div class=\"table__detailed table__detailed_hide\"><p data-row='description'>${item.description}</p></div>\n        </div>\n        `).join('');\n    }\n\n\n    getTableRow(item) {\n\n        const cells = this.headerConfig.map(({ id, template }) => {\n            return {\n                id,\n                template,\n            }\n        })\n\n        return cells.map(({ id, template }) => {\n            return template\n                ? template(item[id])\n                : ` <div class=\"table__content-cell\" data-element=\"${id}\">${item[id]}</div>`\n        }).join('');\n    }\n\n    getFormGroup(edit) {\n        return `<form class=\"form-group\" data-element=\"productForm\">\n        <div class=\"form-group_icon\">\n                <img src=\"./assets/icons/handleDelete.svg\" data-element=\"hideForm\" alt=\"\">\n            </div>\n        <div class=\"from-group__title\">${edit ? 'Изменить тикет' : 'Добавить тикет'}</div>\n        <label for=\"name\" class=\"form-group__label\">Название</label>\n        <div class=\"form-group__input\">\n            <input class=\"form-group__control\" name=\"name\" type=\"text\" id=\"name\" required placeholder=\"Название задачи\">\n        </div>\n        <label for=\"price\" class=\"form-group__label\">Описание</label>\n        <div class=\"form-group__input\">\n            <input class=\"form-group__control\" name=\"description\" type=\"text\" id=\"description\" required placeholder=\"Подробное описание\">\n        </div>\n        <div class=\"form-group__buttons\">\n            <button  name=\"save\" class=\"button button_primary\">\n                Save\n             </button>\n             <input  name=\"reset\" class=\"button button_primary\" type=\"reset\" value=\"Reset\">\n        </div>\n    </form>`\n    }\n\n    \n\n\n    getTemplate() {\n        return `\n            <div class=\"container\" data-element=\"tableEdit\">\n                <div class=\"table__header\" data-element=\"tableHeader\">\n                <button  class=\"button button_primary table__button\" data-element=\"handleAdd\">\n                Добавить тикет\n             </button>\n                </div>\n                <div class=\"table__content\" data-element=\"tableContent\">\n                 \n                </div>\n            </div>`\n    }\n\n\n    deleteForm() {\n        const { productForm } = this.subElements;\n        productForm.remove();\n        document.removeEventListener('click', this.hideForm);\n        document.removeEventListener('submit', this.onSave);\n        this.wrapper = null;\n        this.subElements.productForm = null;\n        this.id = null;\n    }\n\n\n\n    remove() {\n        if (this.element) {\n            this.element.remove();\n        }\n    }\n\n    destroy() {\n        this.remove();\n        this.element = null;\n        this.subElements = null;\n    }\n\n\n}","import Table from \"../../components/table\";\n\n\n\n\nexport default class Page {\n    subElements = {};\n    components = {};\n\n\n    render() {\n\n        const element = document.createElement('div');\n        element.innerHTML = this.getTemplate();\n\n        this.element = element.firstElementChild;\n\n        this.subElements = this.getSubElements();\n        this.initComponents();\n        this.renderComponents();\n\n        return this.element;\n    }\n\n\n    initComponents() {\n        const table = new Table()\n\n        this.components = {\n            table,\n        }\n    }\n\n    renderComponents() {\n        Object.keys(this.components).forEach(component => {\n            console.log(component);\n            const root = this.subElements[component];\n            const { element } = this.components[component];\n            root.append(element);\n        })\n    }\n\n\n\n    getSubElements() {\n        const elements = this.element.querySelectorAll('[data-element]')\n        for (const item of elements) {\n            this.subElements[item.dataset.element] = item;\n        }\n        return this.subElements;\n    }\n\n    removeEventListeners() {\n        this.removeEventListeners();\n    }\n\n    remove() {\n        if (this.element) {\n            this.element.remove()\n        }\n    }\n\n    destroy() {\n        this.remove();\n        this.element = null;\n        this.subElements = null;\n\n\n        for (const component of Object.values(this.components)) {\n            component.destroy();\n        }\n    }\n\n\n    getTemplate() {\n        return `\n        <div>\n        <div class=\"table\" data-element=\"table\">\n\n        </div>\n        </div>\n        `\n    }\n}","var map = {\n\t\"./af\": 2786,\n\t\"./af.js\": 2786,\n\t\"./ar\": 867,\n\t\"./ar-dz\": 4130,\n\t\"./ar-dz.js\": 4130,\n\t\"./ar-kw\": 6135,\n\t\"./ar-kw.js\": 6135,\n\t\"./ar-ly\": 6440,\n\t\"./ar-ly.js\": 6440,\n\t\"./ar-ma\": 7702,\n\t\"./ar-ma.js\": 7702,\n\t\"./ar-sa\": 6040,\n\t\"./ar-sa.js\": 6040,\n\t\"./ar-tn\": 7100,\n\t\"./ar-tn.js\": 7100,\n\t\"./ar.js\": 867,\n\t\"./az\": 1083,\n\t\"./az.js\": 1083,\n\t\"./be\": 9808,\n\t\"./be.js\": 9808,\n\t\"./bg\": 8338,\n\t\"./bg.js\": 8338,\n\t\"./bm\": 7438,\n\t\"./bm.js\": 7438,\n\t\"./bn\": 8905,\n\t\"./bn-bd\": 6225,\n\t\"./bn-bd.js\": 6225,\n\t\"./bn.js\": 8905,\n\t\"./bo\": 1560,\n\t\"./bo.js\": 1560,\n\t\"./br\": 1278,\n\t\"./br.js\": 1278,\n\t\"./bs\": 622,\n\t\"./bs.js\": 622,\n\t\"./ca\": 2468,\n\t\"./ca.js\": 2468,\n\t\"./cs\": 5822,\n\t\"./cs.js\": 5822,\n\t\"./cv\": 877,\n\t\"./cv.js\": 877,\n\t\"./cy\": 7373,\n\t\"./cy.js\": 7373,\n\t\"./da\": 4780,\n\t\"./da.js\": 4780,\n\t\"./de\": 9740,\n\t\"./de-at\": 217,\n\t\"./de-at.js\": 217,\n\t\"./de-ch\": 894,\n\t\"./de-ch.js\": 894,\n\t\"./de.js\": 9740,\n\t\"./dv\": 5300,\n\t\"./dv.js\": 5300,\n\t\"./el\": 837,\n\t\"./el.js\": 837,\n\t\"./en-au\": 8348,\n\t\"./en-au.js\": 8348,\n\t\"./en-ca\": 7925,\n\t\"./en-ca.js\": 7925,\n\t\"./en-gb\": 2243,\n\t\"./en-gb.js\": 2243,\n\t\"./en-ie\": 6436,\n\t\"./en-ie.js\": 6436,\n\t\"./en-il\": 7207,\n\t\"./en-il.js\": 7207,\n\t\"./en-in\": 4175,\n\t\"./en-in.js\": 4175,\n\t\"./en-nz\": 6319,\n\t\"./en-nz.js\": 6319,\n\t\"./en-sg\": 1662,\n\t\"./en-sg.js\": 1662,\n\t\"./eo\": 2915,\n\t\"./eo.js\": 2915,\n\t\"./es\": 5655,\n\t\"./es-do\": 5251,\n\t\"./es-do.js\": 5251,\n\t\"./es-mx\": 6112,\n\t\"./es-mx.js\": 6112,\n\t\"./es-us\": 1146,\n\t\"./es-us.js\": 1146,\n\t\"./es.js\": 5655,\n\t\"./et\": 5603,\n\t\"./et.js\": 5603,\n\t\"./eu\": 7763,\n\t\"./eu.js\": 7763,\n\t\"./fa\": 6959,\n\t\"./fa.js\": 6959,\n\t\"./fi\": 1897,\n\t\"./fi.js\": 1897,\n\t\"./fil\": 2549,\n\t\"./fil.js\": 2549,\n\t\"./fo\": 4694,\n\t\"./fo.js\": 4694,\n\t\"./fr\": 4470,\n\t\"./fr-ca\": 3049,\n\t\"./fr-ca.js\": 3049,\n\t\"./fr-ch\": 2330,\n\t\"./fr-ch.js\": 2330,\n\t\"./fr.js\": 4470,\n\t\"./fy\": 5044,\n\t\"./fy.js\": 5044,\n\t\"./ga\": 9295,\n\t\"./ga.js\": 9295,\n\t\"./gd\": 2101,\n\t\"./gd.js\": 2101,\n\t\"./gl\": 8794,\n\t\"./gl.js\": 8794,\n\t\"./gom-deva\": 7884,\n\t\"./gom-deva.js\": 7884,\n\t\"./gom-latn\": 3168,\n\t\"./gom-latn.js\": 3168,\n\t\"./gu\": 5349,\n\t\"./gu.js\": 5349,\n\t\"./he\": 4206,\n\t\"./he.js\": 4206,\n\t\"./hi\": 94,\n\t\"./hi.js\": 94,\n\t\"./hr\": 316,\n\t\"./hr.js\": 316,\n\t\"./hu\": 2138,\n\t\"./hu.js\": 2138,\n\t\"./hy-am\": 1423,\n\t\"./hy-am.js\": 1423,\n\t\"./id\": 9218,\n\t\"./id.js\": 9218,\n\t\"./is\": 135,\n\t\"./is.js\": 135,\n\t\"./it\": 626,\n\t\"./it-ch\": 150,\n\t\"./it-ch.js\": 150,\n\t\"./it.js\": 626,\n\t\"./ja\": 9183,\n\t\"./ja.js\": 9183,\n\t\"./jv\": 4286,\n\t\"./jv.js\": 4286,\n\t\"./ka\": 2105,\n\t\"./ka.js\": 2105,\n\t\"./kk\": 7772,\n\t\"./kk.js\": 7772,\n\t\"./km\": 8758,\n\t\"./km.js\": 8758,\n\t\"./kn\": 9282,\n\t\"./kn.js\": 9282,\n\t\"./ko\": 3730,\n\t\"./ko.js\": 3730,\n\t\"./ku\": 1408,\n\t\"./ku.js\": 1408,\n\t\"./ky\": 3291,\n\t\"./ky.js\": 3291,\n\t\"./lb\": 6841,\n\t\"./lb.js\": 6841,\n\t\"./lo\": 5466,\n\t\"./lo.js\": 5466,\n\t\"./lt\": 7010,\n\t\"./lt.js\": 7010,\n\t\"./lv\": 7595,\n\t\"./lv.js\": 7595,\n\t\"./me\": 9861,\n\t\"./me.js\": 9861,\n\t\"./mi\": 5493,\n\t\"./mi.js\": 5493,\n\t\"./mk\": 5966,\n\t\"./mk.js\": 5966,\n\t\"./ml\": 7341,\n\t\"./ml.js\": 7341,\n\t\"./mn\": 5115,\n\t\"./mn.js\": 5115,\n\t\"./mr\": 370,\n\t\"./mr.js\": 370,\n\t\"./ms\": 9847,\n\t\"./ms-my\": 1237,\n\t\"./ms-my.js\": 1237,\n\t\"./ms.js\": 9847,\n\t\"./mt\": 2126,\n\t\"./mt.js\": 2126,\n\t\"./my\": 6165,\n\t\"./my.js\": 6165,\n\t\"./nb\": 4924,\n\t\"./nb.js\": 4924,\n\t\"./ne\": 6744,\n\t\"./ne.js\": 6744,\n\t\"./nl\": 3901,\n\t\"./nl-be\": 9814,\n\t\"./nl-be.js\": 9814,\n\t\"./nl.js\": 3901,\n\t\"./nn\": 3877,\n\t\"./nn.js\": 3877,\n\t\"./oc-lnc\": 2135,\n\t\"./oc-lnc.js\": 2135,\n\t\"./pa-in\": 5858,\n\t\"./pa-in.js\": 5858,\n\t\"./pl\": 4495,\n\t\"./pl.js\": 4495,\n\t\"./pt\": 9520,\n\t\"./pt-br\": 7971,\n\t\"./pt-br.js\": 7971,\n\t\"./pt.js\": 9520,\n\t\"./ro\": 6459,\n\t\"./ro.js\": 6459,\n\t\"./ru\": 1793,\n\t\"./ru.js\": 1793,\n\t\"./sd\": 950,\n\t\"./sd.js\": 950,\n\t\"./se\": 490,\n\t\"./se.js\": 490,\n\t\"./si\": 124,\n\t\"./si.js\": 124,\n\t\"./sk\": 4249,\n\t\"./sk.js\": 4249,\n\t\"./sl\": 4985,\n\t\"./sl.js\": 4985,\n\t\"./sq\": 1104,\n\t\"./sq.js\": 1104,\n\t\"./sr\": 9131,\n\t\"./sr-cyrl\": 9915,\n\t\"./sr-cyrl.js\": 9915,\n\t\"./sr.js\": 9131,\n\t\"./ss\": 5893,\n\t\"./ss.js\": 5893,\n\t\"./sv\": 8760,\n\t\"./sv.js\": 8760,\n\t\"./sw\": 1172,\n\t\"./sw.js\": 1172,\n\t\"./ta\": 7333,\n\t\"./ta.js\": 7333,\n\t\"./te\": 3110,\n\t\"./te.js\": 3110,\n\t\"./tet\": 2095,\n\t\"./tet.js\": 2095,\n\t\"./tg\": 7321,\n\t\"./tg.js\": 7321,\n\t\"./th\": 9041,\n\t\"./th.js\": 9041,\n\t\"./tk\": 9005,\n\t\"./tk.js\": 9005,\n\t\"./tl-ph\": 5768,\n\t\"./tl-ph.js\": 5768,\n\t\"./tlh\": 9444,\n\t\"./tlh.js\": 9444,\n\t\"./tr\": 2397,\n\t\"./tr.js\": 2397,\n\t\"./tzl\": 8254,\n\t\"./tzl.js\": 8254,\n\t\"./tzm\": 1106,\n\t\"./tzm-latn\": 699,\n\t\"./tzm-latn.js\": 699,\n\t\"./tzm.js\": 1106,\n\t\"./ug-cn\": 9288,\n\t\"./ug-cn.js\": 9288,\n\t\"./uk\": 7691,\n\t\"./uk.js\": 7691,\n\t\"./ur\": 3795,\n\t\"./ur.js\": 3795,\n\t\"./uz\": 6791,\n\t\"./uz-latn\": 588,\n\t\"./uz-latn.js\": 588,\n\t\"./uz.js\": 6791,\n\t\"./vi\": 5666,\n\t\"./vi.js\": 5666,\n\t\"./x-pseudo\": 4378,\n\t\"./x-pseudo.js\": 4378,\n\t\"./yo\": 5805,\n\t\"./yo.js\": 5805,\n\t\"./zh-cn\": 3839,\n\t\"./zh-cn.js\": 3839,\n\t\"./zh-hk\": 5726,\n\t\"./zh-hk.js\": 5726,\n\t\"./zh-mo\": 9807,\n\t\"./zh-mo.js\": 9807,\n\t\"./zh-tw\": 4152,\n\t\"./zh-tw.js\": 4152\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;"],"sourceRoot":""}